language: generic
os:linux
dist:xenial

jobs:
  install:
    script:
    - sudo echo install

    on:
      branch: gh-pages

  build:
    script:
    - checkout

    skip_cleanup: true
    keep_history: true
    target_branch: gh-pages

    script:
    - sudo echo build

    on:
      branch: gh-pages

  deploy:
    skip_cleanup: true
    keep_history: true
    target_branch: gh-pages

    script:
    - sudo echo install

    on:
      branch: gh-pages






deploy:
  provider: pages
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  keep_history: true
  target_branch: gh-pages

  script:
  - sudo bash build.sh

  script:
  - sudo whoami

  on:
    branch: gh-pages

branches:
  only:
  - gh-pages
  - "/.*/"
